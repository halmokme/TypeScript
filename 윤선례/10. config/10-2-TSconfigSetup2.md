# 프로젝트 구조화

타입스크립트와 자바스크립트를 한 곳에서 작업할 경우, 자바스크립트에서 작업하는 등의 실수가 일어날 수 있다. 이것을 방지하기 위해 컴파일 된 파일들을 지정하기 위해 **tsconfig에서 세팅해야 함.**

<br>
<br>

# tsconfig의 outDir

**outDir : tsc 명령어를 사용해 컴파일 된 파일들이 생성되는 경로**

기본 설정 “outDir”: “./” 로, 현재 디렉토리 안에 타입 스크립트가 있는 곳에서 자바스크립트 파일이 생긴다

이것을 “outDir”: “./build” 로 변경하고 컴파일러를 실행하면 build 안에 js 파일이 들어가게 된다

<br>
<br>

# ts 파일의 최상위 루트부터 상위 폴더가 지정

```tsx
src > logging.ts
src > main.ts 의 형태
```

ts 파일을 src로 이동 후 tsc를 실행하면..

build 폴더 안에도 동일한 src 폴더가 생성되는 것이 아닌,

**ts 파일이 있는 최상위 루트부터 상위 폴더가 지정됨**

그래서 src 안에 ts가 먼저 있는 형태로 tsc를 실행하게 되면

build 폴더 안에도 src 안에 있는 그대로, 컴파일 된다

<br>

## 최상위에 디렉토리가 각각 지정되어 있다면?

```tsx
logging > logging.ts
src > main.ts 의 형태
```

tsc를 실행하면 **디렉토리 구조가 유지**되면서 각각 만들어짐

build 내부에도 logging, src 폴더가 각각 생성된다

<br>

## src안에서 폴더를 나누게 되는 경우

```tsx
src > logging > logging.ts;
src > main.ts;
```

동일한 구조를 유지하며 build 내부에 logging 폴더, main.js가 생성된다

- html 파일의 script 연결도 자바스크립트 파일이 경로에 맞게 연결되어 있어야 함.
- 모든 타입스크립트 파일은 (기본적으로) src 디렉토리 안에 있어야 한다.
- tsconfig의 outDir를 설정하지 않으면 프로젝트 전체적으로 설정이 된다.

<br>

# src 디렉토리 외에서는 ts 파일을 생성할 수 없게 만들기

**tsconfig > rootDir 설정**

해당 구조를 유지하고 싶은데 다른 개발자가 src가 아닌 최상위에 ts 파일을 생성한 채로 tsc를 실행하게 되면,

build > src 폴더 > js 파일 형태로

src 폴더가 생성되어버리므로, 또다시 html에서 경로를 재설정해야 하는 문제가 발생.

**이 때 tsconfig의 rootDir를 설정한다**

기본적으로 최상위 설정이라 “rootDir”: “./”로 되어 있으나

“rootDir”: “./src”로 변경 후 tsc를 실행하면 `모든 ts 파일은 rootDir안에 있어야 한다`는 문구와 함께 에러가 발생한다.

<br>
<br>

# 컴파일 옵션 설정하기 (컴파일러에 추가 / 제외)

```tsx
{
// 프로젝트 루트 디렉토리의 tsconfig.json
  "compilerOptions": {
    /* 여기에 컴파일러 옵션을 설정 */
  },
  "include": [
    /* 컴파일할 파일의 경로를 설정 */
  ],
  "exclude": [
    /* 컴파일에서 제외할 파일의 경로를 설정 */
  ]
}
```

**tsconfig > “include” 또는 “exclude”**

기본적으로 루트 디렉토리 안의 모든 타입스크립트 파일을 포함해 컴파일 하지만,

어떤 파일들을 컴파일러에 추가할 건지, 제외할 건지 세부 설정이 가능하다

“**exclude”: [”./src/dev.ts”]**

배열 형태로 경로와 함께 명시하면 해당 파일은 제외되고 컴파일러가 실행. dev.js는 생성되지 않는다.

src 디렉토리 안에 만들고자 하는 기능 단위로 디렉토리를 생성, 관련된 파일을 만들어 작업하는 것이 일반적이다.

<br>
<br>

# 프로젝트 구조화는 유지보수성, 확장성을 향상시킨다

tsconfig 파일을 이용해 프로젝트 구조화를 할 경우,

TS 컴파일러 설정을 통일하고 재사용성을 높일 수 있어서 프로젝트의 유지보수성과 확장성을 향상시킬 수 있다.
